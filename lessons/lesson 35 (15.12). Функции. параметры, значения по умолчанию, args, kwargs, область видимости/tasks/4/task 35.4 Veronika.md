# Практическое задание 35.4

## Задания

### Описание задачи
В предыдущих блоках ты научилась создавать функции, передавать аргументы, использовать `*args` и `**kwargs`. Теперь важно понять, где "живут" переменные, которые ты создаёшь. В этом задании ты поработаешь с **областью видимости** переменных: локальными (внутри функции) и глобальными (вне всех функций). Ты также попрактикуешься с ключевым словом `global` для явного изменения глобальной переменной изнутри функции и познакомишься с идеей **замыкания** — когда внутренняя функция "помнит" значения из внешней.

Ты будешь писать программу для простого учёта посещений виртуального клуба. Есть глобальный счётчик всех посещений. Есть функция, которая регистрирует нового посетителя, и функция, которая создаёт "персональный счётчик" для конкретного участника. Это упражнение подводит к пониманию, как данные из разных областей видимости взаимодействуют в программе.

### Пример входных и выходных данных
**Пример 1: Работа с глобальным счётчиком**
```python
# Исходное состояние
total_visits = 0

# После вызовов функции register_visit("Анна")
# ... и других вызовов ...
print(total_visits)  # Допустим, выведет: 3
```

**Пример 2: Создание персонального счётчика**
```python
# Создаём счётчик для участника "Борис"
boris_counter = make_personal_counter("Борис")

# Борис посещает клуб несколько раз
print(boris_counter())  # Выведет: 1
print(boris_counter())  # Выведет: 2

# Важно: глобальный total_visits тоже должен увеличиваться.
print(total_visits)     # Должен показывать общее число посещений, включая Бориса.
```

**Пример полного сценария:**
```python
total_visits = 0

# 1. Прямая регистрация
register_visit("Анна")
register_visit("Анна")
print("Всего посещений после Анны:", total_visits)  # Ожидается: 2

# 2. Персональный счётчик для Бориса
boris_counter = make_personal_counter("Борис")
boris_counter()  # Борис зашёл
boris_counter()  # Борис зашёл ещё раз
print("Счётчик Бориса:", boris_counter())  # Ожидается: 3
print("Всего посещений теперь:", total_visits)  # Ожидается: 5 (2 от Анны + 3 от Бориса)
```

### Критерии проверки и ограничения
1.  **Глобальная переменная:** Объяви глобальную переменную `total_visits = 0` в начале программы.
2.  **Функция `register_visit`:** Создай функцию `register_visit(visitor_name)`, которая:
    *   Принимает имя посетителя.
    *   Увеличивает глобальную переменную `total_visits` на 1. Используй ключевое слово `global`.
    *   Печатает сообщение вида `"{visitor_name} посетил(а) клуб. Всего посещений: {total_visits}"`.
3.  **Функция `make_personal_counter`:** Создай функцию `make_personal_counter(member_name)`, которая:
    *   Принимает имя участника.
    *   Создаёт и возвращает **внутреннюю функцию (без параметров)**.
    *   Внутренняя функция должна:
        *   Увеличивать глобальный `total_visits` на 1 (используй `global`).
        *   Вести свой, локальный для замыкания, счётчик посещений этого участника. Начни с 0.
        *   Увеличивать этот персональный счётчик на 1 при каждом вызове.
        *   Возвращать текущее значение персонального счётчика (не печатать!).
    *   Внутренняя функция должна "помнить" `member_name` и свой персональный счётчик между вызовами (используй замыкание).
4.  **Интеграция:** Убедись, что оба способа регистрации (`register_visit` и вызов функции, возвращённой `make_personal_counter`) увеличивают один и тот же глобальный `total_visits`.
5.  **Запрещено:** Использовать классы (это тема будущих уроков). Все действия должны выполняться с помощью функций и управления областью видимости.

### Решение задачи (псевдокод)
1.  Объяви глобальную переменную для общего счётчика посещений, начальное значение 0.
2.  Определи функцию `register_visit` с одним параметром `visitor_name`:
    *   Объяви, что внутри функции будешь использовать глобальную переменную `total_visits`.
    *   Увеличь значение глобальной переменной `total_visits` на 1.
    *   Напечатай сообщение с именем посетителя и новым значением `total_visits`.
3.  Определи функцию `make_personal_counter` с одним параметром `member_name`:
    *   Создай локальную переменную `personal_count` со значением 0. Эта переменная будет в области видимости внешней функции.
    *   Внутри `make_personal_counter` определи другую функцию (без параметров):
        *   Объяви, что внутри этой внутренней функции будешь использовать глобальную переменную `total_visits`.
        *   Увеличь `total_visits` на 1.
        *   Увеличь переменную `personal_count` на 1. (Она берётся из внешней области видимости).
        *   Верни текущее значение `personal_count`.
    *   Функция `make_personal_counter` должна вернуть эту внутреннюю функцию.
4.  В основной части программы:
    *   Вызови `register_visit` несколько раз с разными именами.
    *   Вызови `make_personal_counter` для создания персонального счётчика, сохрани результат в переменную.
    *   Вызови полученную функцию-счётчик несколько раз.
    *   Напечатай значения глобального `total_visits` и результат последнего вызова персонального счётчика для проверки.

### Рекомендации
-   Вынести в отдельную функцию: В этой задаче функции `register_visit` и `make_personal_counter` уже являются отдельными, логически завершёнными блоками. Дополнительного вынесения не требуется.
-   PEP8:
    -   Используй `snake_case` для имён переменных и функций (например, `total_visits`, `register_visit`).
    -   После определения функции оставляй две пустые строки перед следующим объявлением на верхнем уровне (например, между `def register_visit(...):` и `def make_personal_counter(...):`).
